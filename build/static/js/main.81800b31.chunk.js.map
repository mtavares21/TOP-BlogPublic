{"version":3,"sources":["sandbox.js","Comment.js","NewComment.js","Post.js","User.js","Login.js","App.js","index.js"],"names":["logIn","user","a","fetch","method","headers","body","JSON","stringify","data","json","parsedData","userInfo","response","adminInfo","Authorization","token","posts","postId","encodeURIComponent","username","password","comments","postid","text","catch","err","console","log","message","id","user_id","Comment","author","date","useState","editable","setEditable","error","setError","inputText","setInputText","deleted","setDeleted","useContext","UserContext","className","defaultValue","_id","onClick","e","target","form","value","updateComment","then","prev","finally","type","deleteComment","NewComment","setNewComment","saveComment","Post","title","setComments","newComment","loading","setLoading","showComments","setShowComments","useEffect","getComments","length","map","comment","Date","updatedAt","toDateString","User","setShow","xmlns","viewBox","fill","fillRule","d","clipRule","Login","show","setUser","setMessage","signUpUser","createUser","resolve","reject","style","display","name","placeholder","logInUser","adminUser","process","React","createContext","App","setPosts","window","matchMedia","matches","checked","setChecked","getPosts","Provider","post","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.81800b31.chunk.js","sourcesContent":["import { useReducer } from \"react\";\n\n// Login to Blog-API and get user details\nasync function logIn(user) {\n  try {\n    const data = await fetch(\n      \"https://gentle-refuge-60877.herokuapp.com/v1/users/login\",\n      {\n        method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(user), // body data type must match \"Content-Type\" header\n      }\n    );\n    const parsedData = await data.json();\n    return parsedData;\n  } catch (err) {\n    return err;\n  }\n}\n\n// Create User (sign-up)\n// User = { username:, password:}\nasync function createUser(userInfo) {\n  const response = await fetch(\n    `https://gentle-refuge-60877.herokuapp.com/v1/users/signup`,\n    {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(userInfo),\n    }\n  );\n  const user = await response.json();\n\n  return user;\n}\n\n// GET posts\nasync function getPosts(adminInfo) {\n  const userInfo = await adminInfo;\n  const response = await fetch(\n    \"https://gentle-refuge-60877.herokuapp.com/v1/posts/?published\",\n    {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + userInfo.token,\n      },\n    }\n  );\n  const posts = await response.json();\n\n  return posts;\n}\n\n// GET comments\nasync function getComments(user, postId) {\n  // prettier-ignore\n  const response = await fetch(\n    `https://gentle-refuge-60877.herokuapp.com/v1/comments/?postid=${encodeURIComponent(postId)}&username=${encodeURIComponent(user.username)}&password=${encodeURIComponent(user.password)}`,\n    {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"x-www-form-urlencoded\",\n        \"Accept\": \"*/*\",\n      }\n    }\n  );\n  const comments = await response.json();\n  return comments;\n}\n\n// POST comments\nasync function saveComment(postid, user, text) {\n  // prettier-ignore\n  const response = await fetch(\n    `https://gentle-refuge-60877.herokuapp.com/v1/comments/?postid=${postid}`,\n    {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"*/*\",\n      },\n      body: JSON.stringify({\n        \"username\": user.username,\n        \"password\": user.password,\n        \"text\": text,\n      }),\n    }\n  ).catch( err => console.log(err));\n  const message = await response.json().catch((err) => console.log(err));\n\n  return message;\n}\n\n// PUT comments\nasync function updateComment(id, user, text) {\n  // prettier-ignore\n  const response = await fetch(\n    `https://gentle-refuge-60877.herokuapp.com/v1/comments/${id}/?username=${encodeURIComponent(user.username)}&password=${encodeURIComponent(user.password)}`,\n    {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"*/*\",\n      },\n      body: JSON.stringify({\n        \"text\": text,\n        \"author\": user.user_id\n      }),\n    }\n  ).catch( err => console.log(err));\n  const message = await response.json().catch((err) => console.log(err));\n\n  return message;\n}\n\n// DELETE comments\nasync function deleteComment(user, id) {\n  // prettier-ignore\n  const response = await fetch(\n    `https://gentle-refuge-60877.herokuapp.com/v1/comments/${encodeURIComponent(id)}/?username=${encodeURIComponent(user.username)}&password=${encodeURIComponent(user.password)}`,\n    {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"x-www-form-urlencoded\",\n        \"Accept\": \"*/*\",\n      }\n    }\n  );\n  const comments = await response.json();\n  return comments;\n}\n\nexport {\n  getPosts,\n  getComments,\n  logIn,\n  createUser,\n  saveComment,\n  updateComment,\n  deleteComment,\n};\n","import React, { useContext, useState } from \"react\";\nimport \"./index.css\";\nimport { updateComment, deleteComment } from \"./sandbox\";\nimport { UserContext } from \"./App\";\n\nexport default function Comment({ id, text, author, date }) {\n  const [editable, setEditable] = useState(false);\n  const [error, setError] = useState(null);\n  const [inputText, setInputText] = useState(text);\n  const [deleted, setDeleted] = useState(false);\n  const user = useContext(UserContext);\n\n  const handleDeleteComment = () => {\n    deleteComment(user, id)\n      .then(setDeleted(true))\n      .catch((err) => setError((prev) => err))\n      .finally(() => setEditable(false));\n  };\n  const handleUpdateComment = (e) => {\n    const text = e.target.form[0].value;\n    updateComment(id, user, text)\n      .then((response) => {\n        setInputText((prev) => text);\n      })\n      .catch((err) => setError((prev) => error))\n      .finally(() => setEditable((prev) => false));\n  };\n  return (\n    <div\n      key={id}\n      className={`${\n        deleted ? \"hidden\" : \"flex\"\n      } container w-full p-5 pr-10 max-h-42 mb-3 grid items-center justify-center bg-red-400 rounded-full text-white`}\n    >\n      <form className=\"md:w-full\">\n        <div className=\"my-2 w-full max-h-40 flex flex-wrap items-start justify-center \">\n          <h1 className=\"w-full mb-2 text-white font-sans font-medium overflow-scroll text-md\">\n            {author.username}:\n          </h1>\n          {editable ? (\n            <textarea\n              defaultValue={text}\n              className=\"w-full max-h-20 h-full overflow-scroll font-serif text-black text-justify\"\n            />\n          ) : (\n            <div className=\"w-full max-h-42 flex flex-wrap  items-start justify-center \">\n              <p className=\"flex md:w-96 sm:96 ml-4 max-h-16 h-full overflow-scroll font-serif text-justify\">\n                {inputText}\n              </p>\n            </div>\n          )}\n        </div>\n        <div className=\"flex md:flex-nowrap flex-wrap mt-2 w-full md:justify-between justify-center\">\n          {editable ? (\n            <div className=\"w-20 ml-4 max-h-16 h-full\"> </div>\n          ) : (\n            <p className=\"flex justify-start mt-1 md:w-full  w-full font-serif text-sm text-center\">\n              {date}\n            </p>\n          )}\n          {user.user_id === author._id ? (\n            <div className=\"flex flex-nowrap w-1/3 justify-center md:justify-end\">\n              <button\n                onClick={\n                  editable\n                    ? handleUpdateComment\n                    : () => setEditable((prev) => true)\n                }\n                type=\"button\"\n                className=\"p-1 h-7 mb-1 mx-1 flex rounded-full bg-white px-5 text-sm text-red-400\"\n              >\n                {editable ? \"Save\" : \"Edit\"}\n              </button>\n              <button\n                onClick={handleDeleteComment}\n                type=\"button\"\n                className=\"p-1 h-7 flex rounded-full bg-white px-3 text-sm text-red-400\"\n              >\n                Delete\n              </button>\n            </div>\n          ) : null}\n        </div>\n      </form>\n    </div>\n  );\n}\n","import React, { useContext } from \"react\";\nimport \"./index.css\";\nimport { useState, useCallback } from \"react\";\nimport { saveComment } from \"./sandbox\";\nimport { UserContext } from \"./App\";\n\nexport default function NewComment({ adminInfo, postid, setNewComment }) {\n  const [error, setError] = useState(false);\n  const user = useContext(UserContext);\n\n  const createComment = (e) => {\n    const text = e.target.form[0].value;\n    saveComment(postid, user, text)\n      .then((response) => {\n        setNewComment((prev) => false);\n      })\n      .catch((err) => {\n        console.log(err);\n        setError((prev) => err);\n      });\n  };\n\n  const cancelComment = () => {\n    setNewComment((prev) => false);\n  };\n\n  return (\n    <div\n      className={\n        \"container w-full sm:py-3 sm:px-9 px-5 py-5 max-h-52 mb-3 md:w-5/6 flex flex-wrap items-center sm:justify-center bg-red-400 rounded-full text-white\"\n      }\n    >\n      <form className=\"flex w-full max-h-52 justify-center flex-wrap\">\n        <div className=\"w-full max-h-52 flex flex-wrap items-center justify-center\">\n          <textarea className=\"w-96 sm:mt-5 max-h-20 h-full overflow-scroll font-serif text-black text-justify\" />\n          <div className=\"flex sm:flex-wrap md:justify-end justify-center items-center sm:h-1/4 w-full mx-5\">\n            <button\n              type=\"button\"\n              onClick={createComment}\n              className=\"p-1 my-2 flex rounded-full bg-white px-2 text-sm text-red-400\"\n            >\n              Save\n            </button>\n            <button\n              type=\"button\"\n              onClick={cancelComment}\n              className=\"p-1 my-2 ml-2 flex rounded-full bg-white px-2 text-sm text-red-400\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useState, useEffect, useContext } from \"react\";\nimport \"./index.css\";\nimport Comment from \"./Comment\";\nimport { getComments } from \"./sandbox\";\nimport NewComment from \"./NewComment\";\nimport { UserContext } from \"./App\";\n\nexport default function Post({ id, adminInfo, postId, title, text, date }) {\n  const [comments, setComments] = useState(null);\n  const [newComment, setNewComment] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [showComments, setShowComments] = useState(false);\n  const user = useContext(UserContext);\n\n  useEffect(() => {\n    console.log(user);\n    if (showComments) {\n      getComments(user, postId)\n        .then((response) => {\n          setComments((prev) => response);\n        })\n        .catch((err) => {\n          console.log(err);\n          setError((prev) => true);\n        })\n        .finally(() => {\n          setLoading((prev) => false);\n        });\n    }\n    return () => setError((prev) => false);\n  }, [postId, showComments, user]);\n\n  const renderComments = () => {\n    if (loading) return <div className=\"loader\"></div>;\n    else if (error) {\n      return \"Failed to load comments.\";\n    } else if (!comments.length) {\n      return \"No comments yet.\";\n    } else {\n      return comments.map((comment) => {\n        const date = new Date(comment.updatedAt);\n        return (\n          <div\n            key={comment._id}\n            className=\"flex flex-wrap w-full justify-start\"\n          >\n            <Comment\n              id={comment._id}\n              author={comment.author}\n              text={comment.text}\n              date={date.toDateString()}\n            />\n          </div>\n        );\n      });\n    }\n  };\n\n  const renderNewComment = () => {\n    if (!!user && newComment) {\n      return (\n        <NewComment\n          postid={postId}\n          adminInfo={adminInfo}\n          setNewComment={setNewComment}\n        />\n      );\n    } else if (!!user) {\n      return (\n        <button\n          type=\"button\"\n          onClick={() => setNewComment((prev) => !prev)}\n          className=\"p-1 flex rounded-full bg-red-400 px-2 text-sm text-white\"\n        >\n          New comment\n        </button>\n      );\n    } else return null;\n  };\n  console.log(user);\n  return (\n    <div className=\"dark:bg-gray-700 container mt-10 md:w-2/3 flex flex-wrap items-center justify-center bg-white\">\n      <div className=\"container mt-10 mb-2 flex flex-wrap justify-center items-center\">\n        <h1 className=\"w-full my-10 text-center text-red-400 font-sans font-bold text-4xl\">\n          {title}\n        </h1>\n        <p className=\"dark:text-gray-200 w-full font-serif text-justify\">\n          {text}\n        </p>\n        <p className=\"w-full font-serif underline-red-500\">\n          <mark className=\"bg-red-400 px-2 text-sm text-white\">{date}</mark>\n        </p>\n      </div>\n      <div className=\"flex flex-wrap w-full\">\n        {renderNewComment()}\n        <div className=\"w-full\">\n          {!!user ? (\n            <button\n              onClick={() => setShowComments((prev) => !prev)}\n              className=\"p-1 mt-2 mb-5 flex rounded-full bg-red-400 px-2 text-sm text-white\"\n            >\n              {showComments ? \"Hide comments\" : \"See comments\"}\n            </button>\n          ) : null}\n          {showComments && !!user ? renderComments() : null}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function User({ setShow }) {\n  return (\n    <div className=\"absolute sm:right-12 right-4  top-0\">\n      <div\n        onClick={() => setShow((prev) => !prev)}\n        className=\"flex flex-wrap justify-center w-full\"\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className=\"sm:h-10 sm:w-10 h-7 w-7 absolute right-1 top-8\"\n          viewBox=\"0 0 20 20\"\n          fill=\"currentColor\"\n        >\n          <path\n            fillRule=\"evenodd\"\n            d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\"\n            clipRule=\"evenodd\"\n          />\n        </svg>\n      </div>\n    </div>\n  );\n}\n","import React, { useContext, useState } from \"react\";\nimport { logIn, createUser } from \"./sandbox\";\nimport { UserContext } from \"./App\";\n\nexport default function Login({ show, setUser }) {\n  const [error, setMessage] = useState(null);\n  const user = useContext(UserContext);\n\n  const logInUser = (e) => {\n    // Login with inserted credentials and setUser\n    logIn({\n      username: e.target.form[0].value,\n      password: e.target.form[1].value,\n    }).then((resolve, reject) => {\n      if (reject) {\n        setMessage((prev) => \"Log-in failed\");\n      } else if (!!resolve.message) {\n        setMessage((prev) => resolve.message);\n      } else {\n        setUser((prev) => {\n          return {\n            user_id: resolve.user_id,\n            username: resolve.username,\n            password: e.target.form[1].value,\n          };\n        });\n      }\n    });\n  };\n\n  const signUpUser = (e) => {\n    // Login with inserted credentials and setUser\n    createUser({\n      username: e.target.form[0].value,\n      password: e.target.form[1].value,\n    }).then((resolve, reject) => {\n      if (reject) {\n        setMessage((prev) => \"Sign-up failed.\");\n      } else if (!!resolve.message) {\n        setMessage((prev) => resolve.message);\n      } else setMessage((prev) => resolve);\n    });\n  };\n\n  const logOutUser = () => {\n    setUser((prev) => null);\n  };\n\n  return (\n    <div\n      key={show}\n      className=\"absolute top-24 right-0 h-30 md:w-1/3 sm:w-40 w-full bg-gray-800 px-5 pb-5 z-10 font-sans text-base text-justify\"\n      style={{ display: show ? \"fixed\" : \"none\" }}\n    >\n      {!!user ? (\n        <div>\n          <p className=\"text-red-400 font-bold text-center mt-4\">\n            {user.username}\n          </p>\n          <button\n            type=\"button\"\n            onClick={(e) => logOutUser(e)}\n            className=\"text-red-400 w-full mb-2\"\n          >\n            {\" \"}\n            Log-out\n          </button>\n        </div>\n      ) : (\n        <form className=\"container flex flex-wrap w-full justify-center items-between\">\n          <input\n            name=\"username\"\n            type=\"email\"\n            placeholder=\"username/mail\"\n            className=\"w-full my-3\"\n          />\n          <input\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"password\"\n            className=\"w-full mb-3\"\n          />\n          <p>{error ? error.message : null}</p>\n          <button\n            type=\"button\"\n            onClick={(e) => logInUser(e)}\n            className=\"text-red-400 w-full mb-2\"\n          >\n            Log-in\n          </button>\n          <button\n            type=\"button\"\n            onClick={(e) => signUpUser(e)}\n            className=\"text-red-400 w-full\"\n          >\n            Sign-up\n          </button>\n        </form>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport Post from \"./Post\";\nimport User from \"./User\";\nimport Login from \"./Login\";\nimport { getPosts, logIn } from \"./sandbox\";\nimport { useEffect, useState } from \"react\";\n\nconst adminUser = logIn({\n  username: \"migtavares6@gmail.com\",\n  password: process.env.REACT_APP_API_ADMIN_PASS,\n});\n\nconst UserContext = React.createContext(null);\n\nfunction App() {\n  const [posts, setPosts] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [adminInfo, setAdminInfo] = useState(adminUser);\n  const [show, setShow] = useState(false);\n  const [user, setUser] = useState(null);\n  const [checked, setChecked] = useState(\n    window.matchMedia(\"(prefers-color-scheme: dark)\").matches\n  );\n\n  useEffect(() => {\n    getPosts(adminInfo)\n      .then((response) => {\n        setPosts((prev) => response);\n      })\n      .catch((err) => {\n        setError((prev) => err);\n      })\n      .finally(() => {\n        setLoading((prev) => false);\n      });\n  }, [adminInfo]);\n\n  const renderPosts = () => {\n    if (loading) return <div className=\"loader\"></div>;\n    else if (error) {\n      return <p>\"Failed to load posts.\"</p>;\n    } else {\n      return posts.map((post) => {\n        const date = new Date(post.updatedAt);\n        return (\n          <div key={post._id} className=\"flex flex-wrap w-4/5 justify-center\">\n            <Post\n              postId={post._id}\n              adminInfo={adminInfo}\n              title={post.title}\n              text={post.text}\n              date={date.toDateString()}\n            />\n          </div>\n        );\n      });\n    }\n  };\n  return (\n    <UserContext.Provider value={user}>\n      <div\n        className={`${\n          checked ? \"dark\" : null\n        } w-screen h-screen  flex flex-wrap justify-center justify-items-center`}\n      >\n        <header className=\"flex pl-5 items-center justify-between font-sans text-2xl font-bold text-red-400 bg-gray-800 h-24 w-full\">\n          I'm a Blogger now\n          <User setShow={setShow} />\n        </header>\n        <Login show={show} setUser={setUser} />\n        <div className=\"dark:bg-gray-700 self-center w-full flex flex-wrap justify-center font-sans\">\n          <div className=\"w-full mt-5 mx-10 mb-0 flex justify-end\">\n            <label className=\"switch\">\n              <input\n                onClick={() => setChecked((prev) => !prev)}\n                type=\"checkbox\"\n                checked={checked}\n              />\n              <span className=\"slider round\"></span>\n            </label>\n          </div>\n          {renderPosts()}\n        </div>\n      </div>\n    </UserContext.Provider>\n  );\n}\n\nexport { App, UserContext };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}